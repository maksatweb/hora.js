/*! hora.js 0.4.0 (https://github.com/mobify/hora.js) */
define(["$"],function(a){var b,c=a(window),d=a(document),e={},f={nonInteraction:1},g={},h={},i=!1;return a.extend(a,{isString:function(a){return"[object String]"===Object.prototype.toString.call(a)}}),e.__carousels={clear:function(){g=[]}},e.__accordions={clear:function(){h=[]}},e.__validateObjectSchema=function(a,b,c){for(var d=0,e=c.length;e>d;d++){var f=c[d];if(!b.hasOwnProperty(f))throw"The "+a+" object doesn't contain the "+f+" property, which is required";if(!b[f])throw"The "+a+" object contains the "+f+" property, but it's value is falsy"}},e.__stringifyPropertyValues=function(a){for(var b in a)a.hasOwnProperty(b)&&(a[b]=String(a[b]));return a},e.init=function(a){b=a,c.on("touchmove",function(){i=!0}).on("touchend",function(){window.setTimeout(function(){i=!1},50)}).on("orientationchange",e.orientation.change),c.on("load",function(){var a=c.height();c.on("scroll",function(){c.scrollTop()+a===d.height()&&e.scroll.bottom("Page")})}),function(){var a=window.alert;window.alert=function(b){e.error.alert(b),a(b)}}(),e.send("Init",null,null,null,f)},e.send=function(){var a=Array.prototype.slice.call(arguments);b&&(a[2]=b+(a[2]?" - "+a[2]:"")),a.unshift("mobifyTracker.send","event"),Mobify.analytics.ua.apply(null,a)},e.proxyClassicAnalytics=function(){if(window._gaq){var a=window._gaq.push;window._gaq.push=function(b){return e.send("Desktop Event: "+b[1],b[2],b[3],f),a(b)}}},e.proxyUniversalAnalytics=function(a,b,c){var d,e=function(){if(d?d.apply(null,arguments):(window.ga.q=window.ga.q||[]).push(arguments),/^(require|provide|send|ec:setAction|ec:addProduct)$/im.exec(a)&&("send"!==a||"pageview"!==b&&("event"!==b||"mobify"!==c))){var e=Array.prototype.slice.call(arguments,0);e[0]="mobifyTracker."+e[0],Mobify.analytics.ua.apply(null,e)}};window.ga=e,window.ga(function(){d=window.ga,window.ga=e})},e.orientation={change:function(){var a=window.innerHeight>window.innerWidth?"Landscape to Portrait":"Portrait to Landscape";e.send("Orientation","Change "+a,null,null,f)}},e.carousel={slide:function(a,b){var c=g[a];if(i?(c.swipes.length||e.send("Carousel - "+a,"First Swipe Slide #"+b,null,b),e.send("Carousel - "+a,"Swipe Slide #"+b,null,b),c.swipes.push(b)):(c.slides.length||e.send("Carousel - "+a,"First Move Slide #"+b,null,b),e.send("Carousel - "+a,"Move Slide #"+b,null,b),c.slides.push(b)),c.viewed.push(b),!c.fullViewFired&&c.viewed.length>=c.totalSlides){c.fullView=!0;for(var d=1,f=c.totalSlides;f>=d;++d)if(-1===c.viewed.indexOf(d)){c.fullView=!1;break}c.fullView&&(e.send("Carousel - "+a,"View All Slides",null,c.totalSlides),c.fullViewFired=!0)}},load:function(a,b){g.hasOwnProperty(a)||(g[a]={fullView:!1,fullViewFired:!1,totalSlides:b,slides:[],swipes:[],zooms:[],icons:[],viewed:[],clicks:[]}),g[a].viewed.push(1),e.send("Carousel - "+a,"Load",null,b,f)},zoom:function(a,b){var c=g[a];c.zooms.length||e.send("Carousel - "+a,"First Zoom Slide #"+b,null,b),e.send("Carousel - "+a,"Zoom Slide #"+b,null,b),c.zooms.push(b)},slideClick:function(a,b){var c=g[a];c.clicks.length||e.send("Carousel - "+a,"First Click Slide #"+b,null,b),e.send("Carousel - "+a,"Click Slide #"+b,null,b),c.clicks.push(b)},iconClick:function(a,b,c){var d=g[a],f=-1===c?"Previous":"Next";d.icons.length||e.send("Carousel - "+a,"First Icon Slide #"+b,null,b),e.send("Carousel - "+a,f+" Icon Slide #"+b,null,b),d.icons.push(b)}},e.navigation={click:function(a,b){e.send("Navigation - "+a,"Click "+b)}},e.search={toggle:function(){e.send("Search","Toggle")}},e.breadcrumb={click:function(){e.send("Breadcrumb","Click")}},e.backToTop={click:function(){e.send("Back To Top","Click")}},e.newsletter={click:function(){e.send("Newsletter","Click")}},e.footer={click:function(){e.send("Footer","Click")}},e.pagination={click:function(){e.send("Pagination","Click")}},e.filter={toggle:function(a){e.send("Filter - "+a,"Toggle")},change:function(a,b,c){e.send("Filter - "+a,"Change: "+b+" "+c)}},e.scroll={up:function(a){e.send("Scroll - "+a,"Up")},down:function(a){e.send("Scroll - "+a,"Down")},top:function(a){e.send("Scroll - "+a,"Top")},bottom:function(a){e.send("Scroll - "+a,"Bottom")}},e.sizeGuide={open:function(a){e.send("Size Guide - "+a,"Open")}},e.emailFriend={open:function(a){e.send("Email Friend - "+a,"Open")}},e.emailMeBack={open:function(a){e.send("Email Me Back - "+a,"Open")}},e.color={change:function(a){e.send("Color - "+a,"Change")}},e.quantity={change:function(a,b){e.send("Quantity - "+a,"Change",null,b)}},e.size={change:function(a,b){e.send("Size - "+a,"Change",null,b)}},e.error={generic:function(a,b){e.send("Error",a+": "+b)},alert:function(a){e.send("Error","Alert: "+a)},unsuccessfulSubmission:function(a){e.send("Error","Unsuccessful Submission: "+a)},unsuccessfulAddToCart:function(a){e.send("Error","Unsuccessful Add To Cart: "+a)},unsuccessfulPlaceOrder:function(a){e.send("Error","Unsuccessful Place Order: "+a)}},e.review={read:function(a){e.send("Review - "+a,"Read")}},e.sidebar={open:function(a){e.send("Sidebar - "+a,"Open")},close:function(a){e.send("Sidebar - "+a,"Close")}},e.cart={addItem:function(){var a=!1;for(var b in g)if(g.hasOwnProperty(b)){var c=g[b];c.fullViewFired&&(a=!0)}a?e.send("Cart","Add Item After View All Carousel Items"):e.send("Cart","Add Item")},removeItem:function(){}},e.minicart={toggle:function(){e.send("Mini-Cart","Toggle")},enableEdit:function(){e.send("Mini-Cart","Enable Edit")},disableEdit:function(){e.send("Mini-Cart","Disable Edit")},changeQuantity:function(){e.quantity.change("Mini-Cart")}},e.checkout={start:function(a){e.send("Checkout","Start: "+a)}},e.accordion={open:function(a,b){var c=h[a];if(c.opens.length||e.send("Accordion - "+a,"First Open Item #"+b,null,b),e.send("Accordion - "+a,"Open Item #"+b,null,b),c.opens.push(b),c.opens.length>1&&c.opens.length>c.closes.length&&e.send("Accordion - "+a,"Open Multiple Items",null,c.opens.length-c.closes.length),!c.fullViewFired&&c.opens.length>=c.totalItems){c.fullView=!0;for(var d=1,f=c.totalItems;f>=d;++d)if(-1===c.opens.indexOf(d)){c.fullView=!1;break}c.fullView&&(e.send("Accordion - "+a,"View All Items",null,c.totalItems),c.fullViewFired=!0)}},close:function(a,b){var c=h[a];c.closes.push(b)},load:function(a,b){h.hasOwnProperty(a)||(h[a]={fullView:!1,fullViewFired:!1,totalItems:b,opens:[],closes:[]}),e.send("Accordion - "+a,"Load",null,b,f)}},e.transaction={send:function(b,c,d,f){var g="mobifyTracker.ecommerce";if(!b||!a.isString(b))throw'Hora.transaction.send requires a string containing the transaction ID, i.e. "1234"';if(!c||!a.isString(c))throw'Hora.transaction.send requires a string containing the affiliation, usually the project name, i.e. "Acme Clothing"';if(!d||!a.isPlainObject(d))throw'Hora.transaction.send requires an object literal containing the transaction details, i.e. {"revenue": "11.99","shipping": "5","tax": "1.29"}';if(!f||!a.isArray(f))throw"Hora.transaction.send requires an Array containing the transaction item details";d.id=b,d.affiliation=c,e.__stringifyPropertyValues(d),Mobify.analytics.ua(g+":addTransaction",d);for(var h=0,i=f.length;i>h;h++){var j=f[h];j.id=b,e.__validateObjectSchema("item",j,["id","name","sku"]),e.__stringifyPropertyValues(j),Mobify.analytics.ua(g+":addItem",j)}Mobify.analytics.ua(g+":send")}},e});